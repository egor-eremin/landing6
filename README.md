Комплект файлов для автоматической компиляции .pug шаблонов в html файлы.

Для начала работы необходимо иметь установленный Node.js (с его npm-менеджером) - https://nodejs.org/en/
После установки Node.js через командную строку необходимо глобально установить Gulp-менеджер командой (если ранее не установлен) <br>
Windows: <b>npm i gulp -g</b><br>
Unix & Mac OS: <b>sudo npm i gulp -g</b>(требуются права супер-пользователя)

После установки Gulp-менеджера, через командную строку необходимо запустить команду, которая установит все зависимости <br>
Windows: <b>npm i </b><br>
Unix & Mac OS: <b>sudo npm i </b>(требуются права супер-пользователя)

После этого вы получаете готовый проект со всеми зависимостями, рабочими скриптами и сверстанными страницами. Теперь можно работать со стартовым пакетом для обработки файлов, который включает в себя настроенный gulp-менеджер для компиляции pug в html, scss в min.css, csv в json. Обратите внимание, что компилироваться будут все файлы из папки <b>./src</b> в <b>./build</b>, включая вложенные директории (предназначена для базовых шаблонов и общих блоков страниц).

Для запуска автокомпиляции в папке проекта необходимо открыть командную строку и прописать команду:<br>
<b>gulp</b>

После этого gulp-менеджер будет автоматически отслеживать изменения в файлах (pug, scss, csv, js, image) и компилировать их в build (html, min.css, json, js). Командная строка должна оставаться открытой. Более того, в случае ошибок в коде, комплияция не произойдет, а вместо нее в командную строку выведется информация об ошибках.

<b>Файлы, которые можно и нельзя менять</b>
Папки src\php, src\resources не трогать!!!

При необходимости дописать собственные скрипты это можно делать только в src\assets\js\main.js. Остальные файлы JS менять нельзя!!!

Верстка каждого отдельного блока находится в src\pug\blocks\название-страницы\название-блока - верстку можно менять при необходимости, соблюдая понятные названия классов для блоков и вложенностей (по типу БЕМа). Для некоторых блоков используются pug - миксины, которые находятся в src\pug\mixins. Блоки инклюдятся в страницы, которые непосредственно компилируются в html, их порядок отображения можно менять на самих страницах src\pages\название-страницы. Файлы, которые находятся в src\pug\base менять нельзя!!! Так же нельзя менять уже написанные js-классы, attr, name, id у всех тегов, и переменные для копирайта (текстов).

<b>Копирайт</b>
Для внесения копирайта в верстку используется уже готовый скрипт, который отслеживает изменения csv, при запущенном gulp. В шаблоне уже прописанны тестовый копирайтинг, для его замены на нужный (тот, который предоставил ПМ в гугл доке), таблица каждого языка сохраняется в формате csv в папку src\csv с названием языка (тоесть просто сществующие csv заменяются на новые). Скрипт автоматически перегенерит переводы.

Все файлы стилей написаны в отдельных для каждого блока (и\или страницы) scss и называются соответственно. Находятся в src\assets\scss\blocks\название-страницы\название-блока, src\assets\scss\название-страницы. На каждую страницу сайта подключается 2 скомпелированных css файла - 1 - main.css - файл с общими стилями и 2 - название-страницы.css - стили для конкретной страницы.

<b>Настройка</b>
В файле site.config.json в строке "accounts_type", нужно прописать "hot" или "cold" (запросить у ПМа) - в зависимости от этого будут подтягиватся разные данные в таблицы и в аккаунты. Так же в блоке src\pug\blocks\index\indexAccounts.pug, в зависимости от того "hot" или "cold" нужно прописать разные переменные для текста. Первые 3 переменные остаются всегда, для каждого типа аккаунта (indexAccountsText.account_condition_1[lang], indexAccountsText.account_condition_2[lang], indexAccountsText.account_condition_3[lang]). 

Если это "hot", то в account2 добавляется 
indexAccountsText.account_condition_4[lang],
indexAccountsText.account_condition_8[lang],
в account3 добавляется 
indexAccountsText.account_condition_8[lang],
indexAccountsText.account_condition_11[lang],
indexAccountsText.account_condition_12[lang]

Если это "cold", то в account2 добавляется 
indexAccountsText.account_condition_4[lang],
indexAccountsText.account_condition_5[lang],
indexAccountsText.account_condition_6[lang],
в account3 добавляется 
indexAccountsText.account_condition_7[lang],
indexAccountsText.account_condition_8[lang],
indexAccountsText.account_condition_9[lang]
indexAccountsText.account_condition_10[lang]
indexAccountsText.account_condition_6[lang]

По умолчанию добавлены переменные для "cold".

<b>Мультиязычность</b>
Для удобства и скорости разработки в шаблоне реализовано 2 языка. По окончанию разработки нужно скопировать папку src\pages\ru 5 раз, в папку src\pages\ и переназвать папки на "de", "es", "fr", "it" и "zh". В каждом файле в новосозданных папках нужно заменить строку - lang = "ru" на - lang = "de", - lang = "es", - lang = "fr", - lang = "it", - lang = "zh", в соответствии с названием папки. 


<b>Картинки</b>
Все картинки находятся в src\assets\images. Все картинки должны быть оптимизированы на https://squoosh.app/ либо https://tinypng.com/. 

Для запуска компиляции в режиме RELEASE:<br>
<b>gulp build:release</b>

Важное условие:
1. Папка с проектом должна быть названа как домен будущего сайт, c маленькой буквы (БЕЗ ЗОНЫ = example);
2. В корне, на одном уровне с gulpfile.js, должен находиться domain.txt (./domain.txt) в котором должна быть одна строчка с названием домена и зона (example.com)
3. sender.php, отвечающий за отправку писем с сайта должен находиться в ./src/resources/sender.php и после билда копироваться в ./build/sender.php
4. Обязательно должен быть в commit следующие файлы и папки: './src', '.gitignore', 'domain.txt', 'gulfile.js', 'package.json', 'README.md', 'webpack.dev.config.js', 'webpack.release.config.js' и другие скрытые файлы (названные с точкой в начале) кроме папок. 
5. Обязательно НЕ должны быть в commit следующие файлы и папки: './build/', './node_modules/', 'package-lock.json','./.idea/,'./bower_components/,'./zip/ и другие файлы, которые изменяются/удаляются/создаются в ходе работы задачи 'gulp build:release'

# description

<b>Структура:</b>

build
- ...
node_modules
- ...
src
- assets
- - fonts
- - images
- - js
- - - blocks
- - - - json
- - - vendor
- - scss
- - - blocks
- - - partials
- csv
- pages
- - ru
- - it
- - fr
- - zh
- - es
- - de
- php
- - ...
- pug
- - base
- - blocks
- - - ...
- - mixins
- resources
- - ...
- - .htaccess
- - sender.php
.gitignore
domain.txt
package.json
gulpfile.js
README.md
site.config.json
webpack.dev.config.js
webpack.release.config.js

<b>Опции site.config.json:</b>

defaultLanguage | string - язык по умолчанию (en)
seo | bool - включение и отключение SEO режима
php | bool - включение отключение поддержки php в режиме разработки
waitplugin | bool - включение отключение плагина для ожидания компиляции
accounts_type | string - тип аккаунта для сайта, для генерации таблиц инструментов и аккаунтов на главной странице ( span, cold, hot )
companyData | obj - данные о компании
brandlinks | obj - данные о бренде (ссылки на логотип, алтертативный логотип и фавикон)
javascript | obj - настройка пользовательских js скриптов, статичные данные 
build | obj - тонкие настройки компиляции проекта (ссылки и адреса на директории разработки)
imagerename | obj - настройки функции переименовки изображение (длина названия, использумые символы и отслеживаемые форматы)
robotsfile | obj - настройка компиляции файла robots.txt для seo режима и без него
sitemapfile | obj - настройка компиляции файла sitemap.xml для seo режима и без него
seolocales | obj - настройка локалей, в основном необходимо для SEO но данные лучше не менять